
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script src="../../dist/vue.min.js"></script>
    <style>
    .danger {
      background-color: red;
    }
    </style>
    <!-- 字符串模板:script type="text/template" type="text/x-template"
    直接用字符串存储会很困难，处理单引号，还需要很多「+」号把字符串一个个连接起来，十分的不方便。
    设置type="text/template"，标签里面的内容不会被执行，也不会显示在页面上。但是可以在另一个script里面通过获取。这样就把大段的HTML操作从js里面分离开了。
    -->
    <script type="text/x-template" id="t">
      <div>
        <table>
          <row v-for="item in items"
            :key="item.id"
            :class="{danger :true }"
            :item="item"
            @select="select(item)"
            @remove="remove(item)">
          </row>
        </table>
      </div>
    </script>

    <script type="text/x-template" id="row">
      <tr>
        <td>{{ item.id }}</td>
        <td>
          <a @click="$emit('select')">{{ item.value }}
          </a>
        </td>
        <td><button @click="$emit('remove')">remove</button></td>
      </tr>
    </script>

    <div id="el">
    </div>

    <script>
      var  total=300;
      items = [];
      for(var i=0;i<total;i++){
        items.push({
          id:i,
          value:String(Math.random()).slice(0,5)
        })
      }
      var vm = new Vue({
        el:"#el",
        template:"#t",
        data:{
          items:items,
        },
        methods:{

        },
        components:{
          row:{

            template:"#row"
          }
        }
      })
      function monitor(action,fn){
        return function(){
          var s = window.performance.now()

        }
      }
    </script>
  </body>
</html>
