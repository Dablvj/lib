<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Vue.js elastic header example</title>
    <!-- Delete ".min" for console warnings in development -->
    <script src="../../dist/vue.min.js"></script>
    <script src="./lib/dynamics.js"></script>
    <!-- http://dynamicsjs.com/lib/dynamics.js -->
    <!-- 你可以给任何 DOM 元素的 CSS 属性,也可以给 SVG 属性,也任何 JavaScript 对象加入动画。 -->
    <link rel="stylesheet" href="style.css">
    <!-- template for the component -->
    <script  type="text/x-template" id="template">
      <div class="draggable-header-view"
        @mousedown="satrtDrag" @touchstart="startDrag"
        @mousemove="onDrag" @touchmove="onDrag"
        @mouseup="stopDrag" @mouseup="stopDrag" @mouseleave="stopDrag"
        <svg class="bg" width="320" height="560">
          <path :d="headerPath" fill="#3F51B5"></path>
        </svg>
        <div class="header">
          <slot name="header"></slot>
        </div>
        <div class="content" :style="contentPosition">
          <slot name="content"></slot>
        </div>
      </div>
    </script>
  </head>
  <body>
    <div id="app" @touchmove.prevent>
      <draggable-header-view>
        <template slot="header">
          <h1>Elastic Draggable SVG Header</h1>
          <p>with <a href="https://vuejs.org">Vue.js</a> + <a href="http://dynamicsjs.com">dynamics.js</a></p>
        </template>
        <template slot="content">
          <p>Note this is just an effect demo - there are of course many additional details if you want to use this in production, e.g. handling responsive sizes, reload threshold and content scrolling. Those are out of scope for this quick little hack. However, the idea is that you can hide them as internal details of a Vue.js component and expose a simple Web-Component-like interface.</p>
        </template>
      </draggable-header-view>
    </div>
    <script type="text/javascript">
      Vue.component('draggable-header-view',{
        template:'#template',
        data:function(){
          return{
            dragging: false,
            c: { x: 160, y: 160 },
            start: { x: 0, y: 0 }
          }
        },
        // methods:
      })
      new Vue({
        el:"#app"
      })
    </script>
  </body>
</html>
